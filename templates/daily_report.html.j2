<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>ä»Šæ—¥ç§‘å­¦ç ”ç©¶è¶‹åŠ¿ - {{ date_display }}</title>
  <style>
    body { font-family: "SF Pro", "Segoe UI", sans-serif; color: #222; line-height: 1.6; margin: 2rem auto; max-width: 900px; }
    h1, h2 { color: #0a5; }
    section { margin-bottom: 2rem; }
    .cluster { border-left: 4px solid #0a5; padding-left: 1rem; margin-bottom: 1.5rem; }
    .divider { border-top: 1px solid #ddd; margin: 2rem 0; }
    ul { padding-left: 1.2rem; }
  </style>
</head>
<body>
  <h1>ğŸŒ ä»Šæ—¥ç§‘å­¦ç ”ç©¶è¶‹åŠ¿æ‘˜è¦ï¼ˆ{{ date_display }}ï¼‰</h1>

  <section>
    <h2>1. ä»Šæ—¥æ€»ä½“æ¦‚è§ˆ</h2>
    <ul>
      <li>æ€»è®ºæ–‡æ•°ï¼š{{ overview.total_papers }}</li>
      <li>ä¸»è¦å¢é•¿é¢†åŸŸï¼š{{ overview.major_growth_fields | join(" / ") if overview.major_growth_fields else "å¾…è§‚å¯Ÿ" }}</li>
      <li>æ–°å‡ºç°çš„ä¸»é¢˜ç°‡ï¼š{{ overview.new_clusters | join(", ") if overview.new_clusters else "æ— " }}</li>
    </ul>
  </section>

  <div class="divider"></div>

  <section>
    <h2>2. ä»Šæ—¥çƒ­ç‚¹ä¸»é¢˜ï¼ˆHot Topicsï¼‰</h2>
    {% for topic in overview.hot_topics %}
    <div class="cluster">
      <h3>{{ topic.theme or topic.cluster }}ï¼ˆ{{ topic.size }} ç¯‡ï¼‰</h3>
      <p>å…³é”®æœ¯è¯­ï¼š{{ topic.keywords | join(", ") if topic.keywords else "æœªæä¾›" }}</p>
      <small>Cluster ID: {{ topic.cluster }}</small>
    </div>
    {% endfor %}
  </section>

  <div class="divider"></div>

  <section>
    <h2>3. æ–°å…´ä¸»é¢˜ï¼ˆEmerging Trendsï¼‰</h2>
    {% if overview.emerging_topics %}
      {% for trend in overview.emerging_topics %}
      <div class="cluster">
        <h3>{{ trend.theme or trend.cluster }}</h3>
        <p>å¢é•¿ç‡ï¼š{{ "%.1f"|format(trend.growth_rate * 100) }}%</p>
        <p>è§„æ¨¡å˜åŒ–ï¼š{{ trend.size_yesterday }} â†’ {{ trend.size_today }}</p>
      </div>
      {% endfor %}
    {% else %}
      <p>æš‚æ— å¯è¯†åˆ«çš„æ–°å…´ä¸»é¢˜ã€‚</p>
    {% endif %}
  </section>

  <div class="divider"></div>

  <section>
    <h2>4. è·¨é¢†åŸŸè¶‹åŠ¿ï¼ˆDomain Insightsï¼‰</h2>
    {% for domain_key, info in overview.domain_insights.items() %}
    <div class="cluster">
      <h3>{{ info.display_name }}</h3>
      <p>ä¸»è¦æ–¹å‘ï¼š{{ info.hot_focus or "æœªæä¾›" }}</p>
      <p>æ–°è¶‹åŠ¿ï¼š{{ info.trend_note }}</p>
      <p>ä»£è¡¨ç°‡ï¼š{{ info.representative_cluster }}</p>
      <p>å…³é”®è¯ï¼š{{ info.keywords | join(", ") if info.keywords else "æœªæä¾›" }}</p>
    </div>
    {% endfor %}
  </section>

  <div class="divider"></div>

  <section>
    <h2>5. é™„å½•ï¼šå…¨éƒ¨ä¸»é¢˜ç°‡åˆ—è¡¨ï¼ˆæŒ‰è§„æ¨¡æ’åºï¼‰</h2>
    {% for name, info in clusters_sorted %}
    <div class="cluster">
      <h3>{{ name }}ï¼ˆ{{ info.size }} ç¯‡ï¼‰</h3>
      <p>{{ info.summary }}</p>
    </div>
    {% endfor %}
  </section>

</body>
</html>
